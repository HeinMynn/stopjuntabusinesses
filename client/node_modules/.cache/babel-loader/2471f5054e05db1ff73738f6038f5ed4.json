{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/heinmynn/web/stopjunta/client/src/components/CampaignList.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { client } from \"./Parts/Contentful\";\nimport { HCard } from \"./Parts/HCard\";\n\nfunction CampaignList(props) {\n  _s();\n\n  useEffect(() => {\n    const d = new Date();\n    const today = new Date(d.getTime() - d.getTimezoneOffset() * 60000).toISOString().slice(0, 10);\n    client.getEntries({\n      content_type: \"campaign\",\n      \"fields.dateTime[lte]\": today,\n      order: \"sys.createdAt\"\n    }).then(response => {\n      setCampaign(response.items);\n      setLoading(false);\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: campaigns.map(obj => {\n      const localDate = new Date(obj.fields.dateTime);\n      const date = FullDate(localDate, \"2-digit\", \"short\");\n      const time = dateToTime(localDate);\n      return /*#__PURE__*/_jsxDEV(HCard, {\n        artwork: obj.fields.artwork.fields.file.url,\n        slug: obj.fields.slug,\n        title: obj.fields.title,\n        date: date,\n        time: time,\n        slogan: obj.fields.slogan,\n        desc: obj.fields.description\n      }, obj.sys.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CampaignList, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = CampaignList;\nexport default CampaignList;\n\nvar _c;\n\n$RefreshReg$(_c, \"CampaignList\");","map":{"version":3,"sources":["/Users/heinmynn/web/stopjunta/client/src/components/CampaignList.js"],"names":["React","client","HCard","CampaignList","props","useEffect","d","Date","today","getTime","getTimezoneOffset","toISOString","slice","getEntries","content_type","order","then","response","setCampaign","items","setLoading","campaigns","map","obj","localDate","fields","dateTime","date","FullDate","time","dateToTime","artwork","file","url","slug","title","slogan","description","sys","id"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,oBAAvB;AACA,SAASC,KAAT,QAAsB,eAAtB;;AAEA,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAAA;;AAC3BC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMC,CAAC,GAAG,IAAIC,IAAJ,EAAV;AACA,UAAMC,KAAK,GAAG,IAAID,IAAJ,CAASD,CAAC,CAACG,OAAF,KAAcH,CAAC,CAACI,iBAAF,KAAwB,KAA/C,EACXC,WADW,GAEXC,KAFW,CAEL,CAFK,EAEF,EAFE,CAAd;AAIAX,IAAAA,MAAM,CACHY,UADH,CACc;AACVC,MAAAA,YAAY,EAAE,UADJ;AAEV,8BAAwBN,KAFd;AAGVO,MAAAA,KAAK,EAAE;AAHG,KADd,EAMGC,IANH,CAMSC,QAAD,IAAc;AAClBC,MAAAA,WAAW,CAACD,QAAQ,CAACE,KAAV,CAAX;AACAC,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KATH,EANc,CAgBd;AACD,GAjBQ,EAiBN,EAjBM,CAAT;AAkBA,sBACE;AAAA,cACGC,SAAS,CAACC,GAAV,CAAeC,GAAD,IAAS;AACtB,YAAMC,SAAS,GAAG,IAAIjB,IAAJ,CAASgB,GAAG,CAACE,MAAJ,CAAWC,QAApB,CAAlB;AACA,YAAMC,IAAI,GAAGC,QAAQ,CAACJ,SAAD,EAAY,SAAZ,EAAuB,OAAvB,CAArB;AACA,YAAMK,IAAI,GAAGC,UAAU,CAACN,SAAD,CAAvB;AACA,0BACE,QAAC,KAAD;AAEE,QAAA,OAAO,EAAED,GAAG,CAACE,MAAJ,CAAWM,OAAX,CAAmBN,MAAnB,CAA0BO,IAA1B,CAA+BC,GAF1C;AAGE,QAAA,IAAI,EAAEV,GAAG,CAACE,MAAJ,CAAWS,IAHnB;AAIE,QAAA,KAAK,EAAEX,GAAG,CAACE,MAAJ,CAAWU,KAJpB;AAKE,QAAA,IAAI,EAAER,IALR;AAME,QAAA,IAAI,EAAEE,IANR;AAOE,QAAA,MAAM,EAAEN,GAAG,CAACE,MAAJ,CAAWW,MAPrB;AAQE,QAAA,IAAI,EAAEb,GAAG,CAACE,MAAJ,CAAWY;AARnB,SACOd,GAAG,CAACe,GAAJ,CAAQC,EADf;AAAA;AAAA;AAAA;AAAA,cADF;AAYD,KAhBA;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAqBD;;GAxCQpC,Y;;KAAAA,Y;AA0CT,eAAeA,YAAf","sourcesContent":["import React from \"react\";\nimport { client } from \"./Parts/Contentful\";\nimport { HCard } from \"./Parts/HCard\";\n\nfunction CampaignList(props) {\n  useEffect(() => {\n    const d = new Date();\n    const today = new Date(d.getTime() - d.getTimezoneOffset() * 60000)\n      .toISOString()\n      .slice(0, 10);\n\n    client\n      .getEntries({\n        content_type: \"campaign\",\n        \"fields.dateTime[lte]\": today,\n        order: \"sys.createdAt\",\n      })\n      .then((response) => {\n        setCampaign(response.items);\n        setLoading(false);\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return (\n    <div>\n      {campaigns.map((obj) => {\n        const localDate = new Date(obj.fields.dateTime);\n        const date = FullDate(localDate, \"2-digit\", \"short\");\n        const time = dateToTime(localDate);\n        return (\n          <HCard\n            key={obj.sys.id}\n            artwork={obj.fields.artwork.fields.file.url}\n            slug={obj.fields.slug}\n            title={obj.fields.title}\n            date={date}\n            time={time}\n            slogan={obj.fields.slogan}\n            desc={obj.fields.description}\n          />\n        );\n      })}\n    </div>\n  );\n}\n\nexport default CampaignList;\n"]},"metadata":{},"sourceType":"module"}